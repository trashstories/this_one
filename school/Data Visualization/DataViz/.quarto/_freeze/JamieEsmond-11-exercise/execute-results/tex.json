{
  "hash": "53418bad4379858e145a2b4399563b4a",
  "result": {
    "markdown": "---\ntitle: \"Exercise 11\"\nauthor: \"Jamie Pantazi Esmond\"\ndate: \"today\"\ndate-format: \"long\"\nformat: \n  html: \n    toc: true\n    theme: custom.scss\n    fig-cap-location: \"top\"\n    tbl-cap-location: \"top\"\n    title-block-banner: true\n    title-block-banner-color: \"#744FC6\"\n    fig-align: \"center\"\n  pdf: \n    toc: true\n    lof: true\n    mainfont: \"Cambria\"\n    fig-cap-location: \"top\"\n    code-line-numbers: true\n    fig-align: \"center\"\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\\newpage\n\n# Task 1: Reflection\n\nIt is **never** okay to truncate the y-axis on a bar chart, however, it may be acceptable for other types of charts. When visualizing data where zero is either impossible or out of the range of analysis, there is no reason to bring the y-axis down to zero. An example of this might be the age of voters; a person must be 18 to vote, so if the chart is showing the age of voters on the y-axis, it makes a lot of sense to start the y-axis at 18.\n\n\\newpage\n\n# Task 2: Visualizing time\n\nDo the following:\n\n## 1.  Load some time-related data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(haven)\nlibrary(ggridges)\nlibrary(gganimate)\n\ngss <- read_dta(\"data/GSS-1972-2018.dta\") %>% \n  drop_na(grass) %>% \n  mutate(partyid = as_factor(partyid)) \n```\n:::\n\n\n\n## 2.  Make a plot to show how that data changes over time.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- gss %>% \n  select(year, grass, partyid) %>% \n  filter(partyid != \"DK\", partyid != \"NA\", partyid != \"other party\")\n\ng %>%   \n  ggplot(aes(grass, partyid)) +\n  geom_density_ridges(alpha = .5, fill = \"#17E665\") +\n  facet_wrap(~ as_factor(year), ncol = 5) +\n  scale_x_continuous(breaks = c(1,2), \n                     labels = c(str_wrap(\"Joints For Everyone!\", 8), \n                                str_wrap(\"Lock Up the Dope Smokers!\", 8)),\n                     position = \"top\") + \n  scale_y_discrete(labels = c(str_wrap(\"Most Democrat\", 8), \n                              \"\", \"\", \n                              \"Independent\", \n                              \"\", \"\", \n                              str_wrap(\"Most Republican\", 8))) +\n  labs(x = NULL,\n       y = NULL,\n       fill = NULL,\n       title = \"'Grass'roots Support over Time\") +\n  theme_light() +\n  theme(legend.position = \"bottom\",\n        title = element_text(face = \"bold\", size = 14, \n                             color = \"#244500\", family = \"serif\"),\n        plot.subtitle = element_text(color = \"#249900\"),\n        axis.text = element_text(color = \"#2B004D\", size = 8, face = \"bold\"),\n        axis.ticks = element_blank(),\n        panel.grid.major.x = element_blank(),\n        panel.grid.major.y = element_line(linetype = \"longdash\", \n                                          color = \"#E600C1\"),\n        panel.grid.minor = element_blank(),\n        panel.border = element_blank(),\n        strip.background = element_blank(),\n        strip.text = element_text(color = \"#2B004D\", face = \"bold\")) \n```\n\n::: {.cell-output-display}\n!['Grass'roots Support over Time](JamieEsmond-11-exercise_files/figure-pdf/unnamed-chunk-1-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n## 3.  Explain why you chose to visualize the data the way you did.\n\nI chose to visualize support for the legalization of marijuana by party identity over time. To view the trends and format the plot, I used different facets for each year, but with so many years, that is a lot of little plots to read. I wanted to experiment with animations, so I animated the plot by year, so the shift in support can be seen throughout the years. The short animation shows how support for legalization increased overtime, especially for democrats.\n\nAnimated .gif is attached separately.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngrass <- g %>% \n  ggplot(aes(grass, partyid)) +\n  geom_density_ridges(alpha = .5, fill = \"#17E665\") +\n  scale_x_continuous(breaks = c(1,2), \n                     labels = c(str_wrap(\"Joints For Everyone!\", 10), \n                                str_wrap(\"Lock Up the Dope Smokers!\", 15)),\n                     position = \"top\") + \n  scale_y_discrete(labels = c(str_wrap(\"Most Democrat\", 8), \n                              \"\", \"\", \n                              \"Independent\", \n                              \"\", \"\", \n                              str_wrap(\"Most Republican\", 8))) +\n  labs(x = NULL,\n       y = NULL,\n       fill = NULL,\n       title = \"'Grass'roots Support over Time\",\n       subtitle = 'Year: {frame_time}') +\n  theme_light() +\n  theme(legend.position = \"bottom\",\n        title = element_text(face = \"bold\", size = 26, \n                             color = \"#244500\", family = \"serif\"),\n        plot.subtitle = element_text(color = \"#249900\"),\n        axis.text = element_text(color = \"#2B004D\", size = 14, face = \"bold\"),\n        axis.ticks = element_blank(),\n        panel.grid.major.x = element_blank(),\n        panel.grid.major.y = element_line(linetype = \"longdash\", \n                                          color = \"#E600C1\"),\n        panel.grid.minor = element_blank(),\n        panel.border = element_blank()) +\n  transition_time(as.integer(year)) +\n  ease_aes('cubic-in-out')\n\ngrass\n\nanim_save(\"grass.gif\", grass, height = 800, width = 800)\n```\n:::\n",
    "supporting": [
      "JamieEsmond-11-exercise_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}