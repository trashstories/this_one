{
  "hash": "c7e63522c457650f0d8ce066bd34205c",
  "result": {
    "markdown": "---\ntitle: \"Exercise 9\"\nauthor: \"Jamie Pantazi Esmond\"\ndate: \"today\"\ndate-format: \"long\"\nformat: \n  html: \n    toc: true\n    theme: custom.scss\n    fig-cap-location: \"top\"\n    tbl-cap-location: \"top\"\n    title-block-banner: true\n    title-block-banner-color: \"#744FC6\"\n    fig-align: \"center\"\n  pdf: \n    toc: true\n    lof: true\n    mainfont: \"Cambria\"\n    fig-cap-location: \"top\"\n    code-line-numbers: true\n    fig-align: \"center\"\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\\newpage\n\n# Task 1: Reflection\n\nAnnotations are wonderful. I have been excited to get to this part for awhile because I am always trying to figure out how to add different stuff to my plots. This is so much fun to play with, and I now I just want to make crazy plots with lots of arrows and text and other annotations. All I need is more time!\n\n\\newpage\n\n# Task 2: Annotations\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggrepel) \nlibrary(scales)\n\n# Load data here\nset.seed(80085)\ncolors <- c(\"#7400CC\", \"#CC0AA4\", \"#0E0ACC\", \"#3ACC14\", \"#CCAC14\")\n\nsym <- read_csv(\"data/symptoms.csv\") %>% \n  rename(overall = `overall pain`,\n         forearm = `forearm pain`,\n         back = `back pain`) %>% \n  mutate(date = mdy(date)) %>%\n  mutate(swim = ifelse(Swimming == \"Yes\", 1, 0)) \n```\n:::\n\n\n\nDo the following:\n\n1.  Make a plot. Any kind of plot will do (though it might be easiest to work with `geom_point()`).\n\n2.  Label (some or all of) the points using one of `geom_text()`, `geom_label()`, `geom_text_repel()`, or `geom_label_repel()`. You might need to make a new indicator variable so that you only highlight a few of the points instead of all of them.\n\n3.  Add \\*at least two each\\*\\* the following annotations somewhere on the plot using `annotate()`:\n\n    -   **Text**\n    -   **An arrow** (make a curved arrow for bonus fun)\n    -   **A rectangle**\n\n    You can add more if you want, but those three are the minimum. Try to incorporate the annotations into the design of the plot rather than just placing them wherever.\n\nGood luck and have fun!\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npain <- sym %>% \n  pivot_longer(c(overall, forearm, back, fatigue)) \n\npain %>% \n  ggplot(aes(color = name)) +\n  annotate(geom = \"rect\", \n           xmin = ymd(\"2023-07-01\"), \n           xmax = today(), \n           ymin = 1, \n           ymax = 10, \n           fill = \"#00FA7A\", alpha = 0.25) +\n  annotate(geom = \"rect\", \n           xmin = ymd(\"2023-06-06\"), \n           xmax = ymd(\"2023-06-10\"),\n           ymin = 1, \n           ymax = 10, \n           fill = \"#0E99CC\", alpha = 0.25) +\n  geom_vline(xintercept = ymd(\"2023-06-15\"), \n             linewidth = 1, \n             color = \"#2ECC40\") +\n  geom_line(aes(date, value, \n                linetype = name, \n                linewidth = name, \n                alpha = name)) +\n  geom_point(data = sym %>% filter(Swimming == \"Yes\"), \n             aes(date, overall,\n                 shape = Swimming),\n             color = \"#0E0ACC\", \n             fill = \"#0CEBFF\", \n             size = 5.5) +\n  geom_label_repel(data = sym %>% filter(Swimming == \"Yes\"), \n                   aes(date, overall, label = label), \n                   color = \"#0E0ACC\",\n                   label.padding = unit(.15, \"lines\"),\n                   size = 3.5) +\n  annotate(geom = \"text\",\n           x = ymd(\"2023-06-14\"),\n           y = 2.85,\n           angle = 90,\n           label = \"Purchashed Bus\", \n           color = \"#2ECC40\") +\n  annotate(geom = \"text\", \n           x = ymd(\"2023-06-24\"), \n           y = 1.75, \n           label = \"On the Bus\", \n           color = \"#2ECC40\") +\n  annotate(geom = \"segment\", \n           x = ymd(\"2023-06-25\"), \n           xend = ymd(\"2023-07-01\"), \n           y = 1.45, \n           yend = 1.45, \n           color = \"#2ECC40\", \n           linewidth = 1,\n           arrow = arrow(angle = 45, length = unit(1, \"lines\"))) +\n  annotate(geom = \"text\", \n           x = ymd(\"2023-05-30\"), \n           y = 2.75, \n           label = \"Hospital Stay\", \n           color = \"#0061E3\") +\n  annotate(geom = \"segment\", \n           x = ymd(\"2023-06-01\"), \n           xend = ymd(\"2023-06-06\"), \n           y = 2.45, \n           yend = 2.45, \n           color = \"#0061E3\", linewidth = 1,\n           arrow = arrow(angle = 45, \n                         length = unit(1, \"lines\"))) +\n  scale_x_date(breaks = date_breaks(width = \"1 week\"),\n               labels = date_format(\"%b %d\"),\n               expand = c(.01,.01)) +\n  scale_y_continuous(breaks = seq(0,10,2),\n                     limits = c(1,10)) +\n  scale_color_manual(values = colors,\n                     limits = c(\"overall\", \"forearm\", \n                                \"back\", \"fatigue\"),\n                     labels = c(\"Overall pain\", \"Forearm pain\", \n                                \"Back pain\", \"Fatigue\")) +\n  scale_linetype_manual(values = c(\"solid\", \"twodash\", \n                                   \"twodash\", \"twodash\"), \n                        limits = c(\"overall\", \"forearm\", \n                                   \"back\", \"fatigue\"),\n                        labels = c(\"Overall pain\", \"Forearm pain\", \n                                   \"Back pain\", \"Fatigue\")) +\n  scale_linewidth_manual(values = c(1.5,1,1,1),\n                         limits = c(\"overall\", \"forearm\", \n                                    \"back\", \"fatigue\"),\n                         labels = c(\"Overall pain\", \"Forearm pain\", \n                                    \"Back pain\", \"Fatigue\")) +\n  scale_alpha_manual(values = c(.5,.5,.5,1), \n                     guide = \"none\") +\n  scale_shape_manual(values = 21,\n                     labels = \"Swimming\") +\n  labs(x = NULL,\n       y = \"Pain Level\",\n       color = NULL,\n       linetype = NULL,\n       linewidth = NULL,\n       alpha = NULL,\n       shape = NULL,\n       title = \"Daily Physical Pain\") +\n  theme_light() +\n  theme(panel.border = element_blank(),\n        panel.grid.major.x = element_blank(),\n        panel.grid.major.y = element_line(color = \"#3ACC14\", \n                                          linetype = \"dotted\"),\n        panel.grid.minor.x = element_blank(),\n        panel.grid.minor.y = element_line(color = \"#9DDD99\", \n                                          linetype = \"dotted\"),\n        axis.text = element_text(color = \"#310873\", \n                                 family = \"serif\"),\n        axis.title = element_text(color = \"#310873\", \n                                  family = \"sans\"),\n        axis.ticks = element_blank(),\n        plot.title = element_text(color = \"#310873\", \n                                  size = 14, \n                                  face = \"bold\"),\n        legend.position = \"bottom\",\n        legend.text = element_text(color = \"#310873\", \n                                   family = \"sans\"))\n\nggsave(\"pain.png\", last_plot(), width = 10, height = 5)\n```\n\n::: {.cell-output-display}\n![Daily Physical Pain](JamieEsmond-09-exercise_files/figure-pdf/fig-pain-1.pdf){#fig-pain fig-pos='H'}\n:::\n:::\n",
    "supporting": [
      "JamieEsmond-09-exercise_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}